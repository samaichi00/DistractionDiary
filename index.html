<!doctype html><html lang="ja"><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>パスワード認証</title>
<style>
body{font-family:system-ui,-apple-system;max-width:420px;margin:8vh auto;padding:24px}
input,button{font-size:16px;padding:10px} .msg{color:#c00;margin-top:8px}
</style>
<h1>パスワード</h1>
<input id="pw" type="password" autocomplete="current-password" placeholder="••••••••">
<button id="go">入る</button>
<div class="msg" id="msg"></div>
<script>
const HASH = "9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08";
const OKKEY = "ok-"+HASH;

async function sha256(txt){
  const enc = new TextEncoder().encode(txt);
  const buf = await crypto.subtle.digest("SHA-256", enc);
  return [...new Uint8Array(buf)].map(b=>b.toString(16).padStart(2,"0")).join("");
}
document.getElementById("go").onclick = async () => {
  const pw = document.getElementById("pw").value;
  const h = await sha256(pw);
  if(h === HASH){
    sessionStorage.setItem("auth", OKKEY);
    location.href = "main.html";            // 本編
  } else {
    document.getElementById("msg").textContent = "ちがう。";
  }
};
</script>
</html>


